---
title: 'Homework #2 and #3 Key'
author: "Ray Nelson"
date: "2/8/2019"
output:
  html_document:
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

## Concepts  

Explain how aesthetics, scaling, and mapping are related to each other within the context of the grammar of graphcs and ggplot.  

Aesthetics, scaling, and mapping are referring to the same concept. This is the process whereby the x-axis, y-axis, color, fill, shape, linetype, size, transparency, etc. of a given observation are assigned values based on variables in the data frame. Aesthetics are visual properties in a graph. Mapping and scaling assign levels to describe aesthetic properties.  

## Interpretation of code

```{r code chunk, message = FALSE, warning = FALSE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = class)) +
  geom_point(position = "jitter", show.legend = FALSE) +
  geom_smooth(method = "lm", se = FALSE, show.legend = FALSE,
              color = "black",
              size = 0.50) +
  geom_smooth(se = FALSE, show.legend = FALSE) +
  facet_wrap(vars(class))
```  

Line 1: calls the ggplot function. It gets the data from the data frame mpg and assigns displacement to the x-axis, highway miles per gallon to the y axis, and associates color with the vehicle's class.  

Line 2: draws a scatterplot but includes jittering to prevent overplotting. It also suppresses the legend that would result because of the color = class statement.  

Lines 3 - 5: creates a simple black regression line. The se = FALSE clause removes the confidence interval from the graph. The show.legend = FALSE once again prevents a legend from being drawn.  

Line 6: creates a layer that includes a loess smoothed line without a confidence interval and once again prevents the legend for color  

Line 7: creates a scatterplot for each class of vehicle  


## Draw a proportional bar chart for class of vehicle (class), drive train (drv), and year

1.  Put class on the x axis
1.  Fill the bars based on the drive
1.  Use facet_grid to create a graph for 1999 and 2008.

```{r facets}
ggplot(data = mpg, mapping = aes(x = class, fill = drv)) +
  geom_bar(position = "fill") +
  facet_grid(rows = vars(year))
```