---
title: "Homework #22"
author: "Geospatial"
date: "Due: 13 April 2020"
output:
  html_document:
    code_folding: "show"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      warning = FALSE,
                      message = FALSE)
library(tidyverse)
library(leaflet)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
```

## Concepts  

1. Define projections and layers within the context of geospatial data visualization. Why are they so important? 

Because of the spherical shape of earth, distortions occur when we attempt to represent a 3-D object in two dimensions. For example, simply flattening the earth makes the poles look inordinately large. For this reason, many different algorithms exist for this conversion or projection. Projections can preserve angles or areas but cannot do both simultaneously. Most projection algorithms attempt to achieve a balance between angle and area distortions.

2. Compare and contrast choropleths with cartograms.

Often we want to communicate how a quantity varies for different locations. There are two alternatives for such visualizations: choropleths and cartograms. One of the problems with choropleths is that spatial polygons with larger areas draw more attention and make them look more important. One way around this is to create a cartogram where the maps have distorted areas so that proportionally, quantitative information is depicted accurately.
    
## Interpretation of code  

### Code chunk #1

```{r First code chunk}
latitude <- 40.2504
longitude <- -111.6525

(TNRB <- leaflet() %>% 
    addProviderTiles(provider = providers$CartoDB.Positron) %>% 
    addMarkers(lng = longitude,
               lat = latitude,
               popup = "Marriott School of Business")
)
```


Lines 1-2: Define and initial the latitude and longitude coordinates
Line 3: Creates leaflet graph object called TNRB
Line 4: Creates a graph layer using maps from the provider CartoDB.Positron
Lines 5 - 7: Locates a point at the given latitude and longitude and labels the popup as "Marriott School of Business."

### Code chunk #2

```{r Second code chunk}
world <- ne_countries(scale = "medium", returnclass = "sf")

(world %>% 
  ggplot() +
  geom_sf() +
  coord_sf(xlim = c(-88, -78),
           ylim = c(24.5, 33),
           expand = FALSE)
)
```

Line 1: Retrieves the spatial polygons needed to draw a world map using the ne_countries function from the rnaturalearth library and stores the result in an object called world.

Lines 2-3: Create a layer in ggplot that contains the outline of the earth.

Lines 4-6: Uses a range for latitude and longitude that allows the world map to be focused on Florida.

## Write Code

Write a function that locates and labels a point on a map.
* The function should take longitude, latitude, and a label as its arguments.
* The function should use maps provided by Stamen.Toner.
* Use your function to draw a map with the location of your home or apartment.


```{r my code}
## Map of the Nelsons Home
### Coordinates for Nelson Home
### Latitude: 40.268831
### longitude: -111.644243
leaflet_map <- function(longitude, latitude, popup){
  require(leaflet)
  leaflet() %>% 
    addTiles() %>% 
    addMarkers(lng = longitude, lat = latitude, popup = popup)
}
leaflet_map(longitude = -111.644243, latitude = 40.268831,
            popup = "Mooki's Hideout")
```

