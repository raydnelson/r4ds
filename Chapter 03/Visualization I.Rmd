---
title: "Data Visualization I"
author: "Ray Nelson"
date: "9/04/2019"
output:
  html_document:
    code_folding: hide
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
library(tidyverse)
```

## Basic smoothed scatterplot  
* Highway miles per gallon (hwy) on displacement (displ)  

```{r basic smoothed scatterplot}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point() +
  geom_smooth()
```

## Regression scatterplot    
*  Highway miles per gallon on displacement  
*  Color by drive train (drv)  
*  Linetype by drive train  
*  Linear regression with no confidence interval  
*  Increase the size of the lines  

```{r linear regression}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(aes(size = drv)) +
  geom_smooth(mapping = aes(linetype = drv), method = "lm", se = FALSE, size = 2)
```

## Loess smoothed scatterplot with points of various sizes
*  Highway miles per gallon on displacement    
*  Color points by car class  
*  Point size by city miles per gallon (cty)  
*  Large red loess line for all point and no confidence interval  

```{r linear regression for all points, message = FALSE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = class, size = cty)) +
  geom_smooth(se = FALSE, size = 2, color = "red")
```

## Linear regression of highway on displacement
*  Color by vehicle class
*  Simple regression by vehicle class
*  Show all points

```{r regression by vehicle class}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = class)) +
  geom_point(position = "jitter") +
  geom_smooth(method = "lm")
```

## Linear regression of highway on displacement
*  Color by vehicle class
*  Simple regression by vehicle class
*  Each class has its own scatterplot
*  Show all the points  
*  No Legend

```{r regression by vehicle class with separate scatterplots}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = class)) +
  geom_point(position = "jitter", show.legend = FALSE) +
  geom_smooth(method = "lm", show.legend = FALSE) +
  facet_wrap(vars(class), ncol = 2)
```  

## Linear regression of highway on displacement
*  Color by drivetrain type
*  Simple regression (hwy on displacement) by drive train type and number of cylinders
*  Draw a larger, black regression line
*  Each drive train and number of cylinders has its own scatterplot
*  Show all the points  
*  No Legend

```{r regression by vehicle class with drive train by cylinders }
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = drv)) +
  geom_point(position = "jitter", show.legend = FALSE) +
  geom_smooth(method = "lm", show.legend = FALSE, color = "black", size = 1) +
  facet_grid(rows = vars(as.factor(cyl)), cols = vars(drv))
```  

## Exercises from 3.6.1 Problem 6

### Simple smoothed scatterplot with blue line for smooth

```{r simple smooth with blue line and larger red symbols, message = FALSE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(color = "red", size = 2) +
  geom_smooth(color = "blue", se = FALSE)
```

### Smoothed scatterplot with blue smoothed line for each different drive train

```{r smooth from each drive train, message = FALSE}
ggplot(data = mpg,
       mapping = aes(x = displ, y = hwy, group = drv)) +
  geom_point(size = 2) +
  geom_smooth(color = "blue", se = FALSE)
```

### Smoothing and color by drive train

```{r smoothing by drive train}
ggplot(data = mpg,
       mapping = aes(x = displ, y = hwy, color = drv)) +
  geom_point(size = 2) +
  geom_smooth(se = FALSE)
```

### Color symbols by drive train but blue global smooth

```{r global smoothing with colors by drive train}
ggplot(data = mpg,
       mapping = aes(x = displ, y = hwy, color = drv)) +
  geom_point(mapping = aes(color = drv), size = 2) +
  geom_smooth(se = FALSE, color = "blue")
```

### Symbols colored by drive train with smoothing by linetype

```{r smoothing by linetype}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = drv), size = 2) +
  geom_smooth(mapping = aes(linetype = drv), se = FALSE)
```

### Color in circles as the plotting symbols

```{r colors in circles}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, fill = drv)) +
  geom_point(
    size = 3,
    shape = 21,
    color = "white",
    stroke = 2
  )
```  