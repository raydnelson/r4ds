---
title: "Visualization II"
author: "MPA 634: Data Science for Managers"
date: "19 Jan 2021"
output:
  html_document:
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      message = FALSE,
                      warning = FALSE)
library(tidyverse)
```

## Possible aesthetics

1.  color
2.  fill
3.  shape
4.  linetype
5.  alpha (transparency)
6.  size
7.  stroke

## The grammar of graphics includes the following seven elements:

1.  **Data**
2.  **Mapping or aesthetics**
3.  **Geometric object**
4.  **Facets**
5.  Position
6.  Stats
7.  Coordinate system

## [Geometric objects](https://ggplot2.tidyverse.org/reference/index.html#section-layers)

1.  bar
2.  histogram
3.  freqpoly
4.  density
5.  boxplot
6.  violin
7.  point
8.  smooth
9.  rug

## Important Definition

Distribution of a variable is:

1.  Range of values
2.  Probability or frequency of each value

### Distribution of categorical variables

#### Bar Chart

```{r bar}
ggplot(data = mpg, mapping = aes(y = class, fill = class)) +
  geom_bar()
```

### Distribution numerical variables

### Histograms

-   Use a blue fill
-   Use binwidth of 2.5

```{r histogram of highway miles per gallon}
ggplot(data = mpg, mapping = aes(x = hwy)) +
  geom_histogram(fill = "blue", binwidth = 2.5)
```

### Frequency Polygons

-   Use a blue fill
-   Use binwidth of 2.5

```{r frequency polygons}
ggplot(data = mpg, mapping = aes(x = hwy, color = drv)) +
  geom_freqpoly(color = "blue", binwidth = 2.5)
```

### Densities

Use a blue fill

```{r density for highway miles per gallon}
ggplot(data = mpg, mapping = aes(x = hwy)) +
  geom_density(fill = "blue")
```

### Boxplots

```{r boxplots}
ggplot(data = mpg, mapping = aes(y = hwy, x = class)) +
  geom_boxplot()
```

### Violin plots

```{r violin plots}
ggplot(data = mpg, mapping = aes(x = hwy, y = factor(0))) +
  geom_violin(fill = "blue")
```

### Point

```{r point}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = as.factor(year))) +
  geom_point(position = "jitter")
```

### Loess Smoothing

```{r loess smoothing}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, color = as.factor(year))) +
  geom_point() +
  geom_smooth()
```

### Simple Regression

```{r simple regression}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point() +
  geom_smooth(method = "lm")
```

### Rug Plots without jitter

```{r rug plot without jitter}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point() +
  geom_rug() 
```

### Rug Plots with jitter

```{r rug plot with jitter}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(position = "jitter") +
  geom_rug(position = "jitter") +
  facet_wrap(vars(drv))
```

## Exercises from 3.6.1 Problem 6

### Simple smoothed scatterplot with blue line for smooth

```{r simple smooth with blue line and larger red symbols}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(color = "red", size = 1) +
  geom_smooth(color = "blue", se = FALSE)
```

### Smoothed scatterplot with blue smoothed line for each different drive train

```{r smooth from each drive train}
ggplot(data = mpg,
       mapping = aes(x = displ, y = hwy, group = drv)) +
  geom_point(size = 2) +
  geom_smooth(color = "blue", se = FALSE)
```

### Smoothing and color by drive train

```{r smoothing by drive train}
ggplot(data = mpg,
       mapping = aes(x = displ, y = hwy, color = drv)) +
  geom_point(size = 4) +
  geom_smooth(se = FALSE)
```

### Color symbols by drive train but blue global smooth

```{r global smoothing with colors by drive train}
ggplot(data = mpg,
       mapping = aes(x = displ, y = hwy, color = drv)) +
  geom_point(mapping = aes(color = drv), size = 2) +
  geom_smooth(se = FALSE, color = "blue")
```

### Symbols colored by drive train with smoothing by linetype

```{r smoothing by linetype}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +
  geom_point(mapping = aes(color = drv), size = 2) +
  geom_smooth(mapping = aes(linetype = drv), se = FALSE)
```

### Color in circles as the plotting symbols

```{r colors in circles}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy, fill = drv)) +
  geom_point(
    size = 3,
    shape = 21,
    color = "white",
    stroke = 2
  )
```
