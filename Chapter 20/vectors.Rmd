---
title: "Vectors"
author: "MPA 634: Data Science for Managers"
date: "11 March 2020"
output: 
  html_document:
    code_folding: "hide"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,
                      message = FALSE,
                      warning = FALSE)
# Load libraries
library(tidyverse)
```
## Why are atomic vectors and lists important?

### Consider the mpg tibble which is really a list of atomic vectors:

```{r mpg}
str(mpg)
```

If we want to access a variable in the tibble then we use the $ to get that element of the tibble. We can also access information using [] and [[]].

```{r hwy}
mpg$hwy
mpg[[9]]
mpg[9]
```

### When we do a regression then we create a list

```{r simple regression}
model <- lm(hwy ~ displ, data = mpg)
str(model)
```

Here are the coefficients of the simple regression model

```{r regression coefficients}
model$coefficients
```


## How to store and access information in R. We have the following possible objects:  

*  atomic vectors (1 dimensional: character, logical, and numeric)
*  lists
*  tibbles (which are a special case of lists)  

## Create vectors in which we place information 

### Favorites associated with MPA 634 (past and present students)

```{r favorite associated with each section}
favorite_current <- c(
  "Dallin",
  "Jason",
  "McKayla",
  "Alyssa",
  "Jordan",
  "Madisyn",
  "Moira",
  "Spencer",
  "Andrew",
  "Eben",
  "Anson",
  "Sophie",
  "Wilson",
  "Jarrett",
  "Cecily",
  "Bruce",
  "Alex"
)

favorite_previous <- c(
  "Brooke",
  "Tessa",
  "Pallavi",
  "Alex",
  "Oogii",
  "Sarah",
  "Joshua",
  "Stan",
  "Haley",
  "Erica",
  "Mitchell",
  "Justin",
  "Haris",
  "David",
  "Vana"
)
```

### Programs in which favorite can participate  

```{r programs}
program_names <- c("CEEN", "MBA", "MISM", "MPA", "MPH")
program_codes <- c(1:5)
```

### Programs that correspond to each individual  

```{r favorite in programs}
programs_current <- c(4, 2, 4, 4, 2, 3, 4, 4, 2, 4, 3, 4, 2, 2, 5, 1, 2)
programs_previous <- c(2, 3, 1, 3, 3, 3, 2, 3, 2, 3, 2, 2, 3, 2, 3)
```

### Types of the objections that we have created

```{r types of objects}
typeof(favorite_current)
typeof(program_names)
typeof(program_codes)
typeof(programs_current)
```

## Organize our information into tibbles and lists

### Programs as a tibble and a list

```{r programs as a tibbles and a list}
(programs <- tibble(program_names, program_codes))
(programs_list <- list(program_names = program_names, program_codes = program_codes))
```

### favorite as tibbles and lists

```{r favorite as tibble I}
length(favorite_current)
length(favorite_previous)
```

### Error in creating tibble
```{r error in creating tibble, error = TRUE}
(classes_tibble) <- tibble(favorite_current, favorite_previous)
```

### Lists work because vectors of different lengths are allowed.
```{r lists work}
(class_list <- list(favorite_current = favorite_current,
                    favorite_previous = favorite_previous))
```

### favorite as a long tibble

```{r long individual tibble}
(current <- rep("current", length(favorite_current)))
(previous <- rep("previous", length(favorite_previous)))

current <- tibble(favorite_current, programs_current, current)
colnames(current) <- c("individual", "program", "section")
current

previous <- tibble(favorite_previous, programs_previous, previous)
colnames(previous) <- c("individual", "program", "section")
previous

(classes <- rbind(current, previous))
```

##### Add program identifier to the tibble with inner join and cleanup the tibble
```{r}
classes %>% 
  inner_join(programs, by = c("program" = "program_codes")) %>% 
  select(-program) %>% 
  rename(program = program_names)
```

## Information about objects

```{r object information}
colnames(classes)
dim(classes)
nrow(classes)
ncol(classes)
str(classes)
```

## Accessing information in lists

### Objects for use in this exercise include:

*  classes (tibble that was already created)
*  programs (tibble that was already created)
*  favorite (list that needs to be created from favorite_previous and favorite_current)
*  a list called rdn_teaching which is a list that includes the above three objects

### Create the sections list

```{r sections list}
favorite <- list(favorite_current = favorite_current,
                    favorite_previous = favorite_previous)
``` 

### Type of the objects

```{r type of objects for rdn}
typeof(classes)
is_tibble(classes)
typeof(favorite)
is_tibble(favorite)
typeof(programs)
is_tibble(programs)
```

### Create the list rdn_teaching

```{r rdn_teaching creation}
rdn_teaching <- list(classes = classes, favorite = favorite, programs = programs)
```

### Investigate rdn_teaching

```{r rdn_investigation}
typeof(rdn_teaching)
is_tibble(rdn_teaching)
```

### Structure of the list  

```{r structure of rdn_teaching}
str(rdn_teaching)
```
### Accessing information in the first level of the list

```{r accessing elements in the rdn_list}
rdn_teaching$classes
rdn_teaching[[1]]
```

### Accessing information in a list that is within a list

```{r list within a list}
rdn_teaching$programs$program_names
rdn_teaching[[3]][[1]]
```  